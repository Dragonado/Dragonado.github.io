<!DOCTYPE html>
<head> <meta charset="utf-8"/> </head>
<style>
#box1{
    margin-top: 250px;
    margin-left:5%;
    width:250px;
    height:150px;


}
#box2{
    margin-left:10%;
    width:250px;
    height:150px;


}
#box3{
    margin-left:10%;
    width:250px;
    height:150px;
    padding:10px;
}
#box4{
    margin-left:10%;
    width:250px;
    height:150px;
}
#box5{
    margin-left:10%;
    width:250px;
    height:150px;
    padding:10px;
}

</style>
<body>

        <script src = "webCam.js"> </script>
        <div id="mainbox">
            <div id="imp">
<br>


        <h1 id = "String" > </h1>
        <h1 id = "Question" > </h1>
    </div>

        <button type="button" id="box1" onclick = "Attempt(1)">a</button>
        <button type="button" id="box2" onclick = "Attempt(2)">b</button>
        <button type="button" id="box3" onclick = "Attempt(3)">c</button>
        <button type="button" id="box4" onclick = "Attempt(4)">d </button>
        <a href = "agora_Call.html"> <button> Call </button> </a>

        <p id = "attempt_display" > </p>

        <h2 id = "ansDisplay"> </h2>
        </div>

    <script language = "javascript">
        function Attempt(n)
        {
            console.log("You clicked option " + String(n));
            document.getElementById('attempt_display').innerHTML = "You clicked option " + String(n);
            if(n === ans)
            {
                document.getElementById('ansDisplay').innerHTML = "You got it correct!";
            }
            else document.getElementById('ansDisplay').innerHTML = "You got it wrong";
        }


        var running_num = 1;                                                      // boxes for options
        var OCR_text = localStorage.getItem("question");

        var ans = 1;                                                    // 1-4 options
        var que = "";                                                   // The questions

        for(var i = 0; i < OCR_text.length; i++)
        {
            if(OCR_text[i] == '(') break;
            que += OCR_text[i];
        }

        document.getElementById('Question').innerHTML = que;

        for(var i = 0; i < OCR_text.length; i++)
        {
            if(OCR_text[i] == '(')
            {
                var next = 0; // Finding the next opening index of bracket
                var option = ""; // temporary option OCR_text
                for(next = i+1; next < OCR_text.length; next++) if(OCR_text[next] == '(') break;

                for(var j = i; j < next; j++)
                {
                    option += OCR_text[j];
                }
                if(running_num == 1)
                {
                    document.getElementById('box1').innerHTML = option;
                    running_num++;
                }
                else if(running_num == 2)
                {
                    document.getElementById('box2').innerHTML = option;
                    running_num++;
                }
                else if(running_num == 3)
                {
                    document.getElementById('box3').innerHTML = option;
                    running_num++;
                }
                else
                {
                    document.getElementById('box4').innerHTML = option;
                }
                console.log(option);
            }
        }
    </script>
</body>

</html>
